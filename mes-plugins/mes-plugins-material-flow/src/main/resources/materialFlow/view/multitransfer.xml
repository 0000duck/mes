<?xml version="1.0" encoding="UTF-8"?>
<view xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schema.qcadoo.org/view"
	xsi:schemaLocation="http://schema.qcadoo.org/view http://schema.qcadoo.org/view.xsd"
	name="multitransfer" modelName="transfer" menuAccessible="true">
	<component type="window" name="window" reference="window">
		<ribbon>
			<group template="navigation" />
			<group name="create">
				<bigButton name="create" icon="newGenealogyIcon24.png"
					state="enabled">
					<script>
						<![CDATA[
							this.addOnChangeListener({
								onClick: function() {
									#{form}.performEvent('createMultitransfer', []);
								}
							});
						]]>
					</script>
				</bigButton>
			</group>
			<group name="template">
				<bigButton name="template" icon="downloadIcon24.png"
					state="enabled">
					<script>
						<![CDATA[
							this.addOnChangeListener({
								onClick: function() {
									#{form}.performEvent('getFromTemplate', []);
								}
							});
						]]>
					</script>
				</bigButton>
			</group>
		</ribbon>
		<component type="form" name="form" reference="form">
			<component type="gridLayout" name="grid" reference="grid"
				hasBorders="false" columns="2" rows="6">
				<layoutElement column="1" row="1">
					<component type="select" name="type" field="type"
						reference="type">
						<listener event="onSelectedEntityChange"
							class="com.qcadoo.mes.materialFlow.MaterialFlowService" method="disableStockAreaFieldForParticularTransferType" />
					</component>
				</layoutElement>
				<layoutElement column="1" row="2">
					<component type="calendar" name="time" field="time"
						reference="time">
						<option type="withTimePicker" value="true" />
					</component>
				</layoutElement>
				<layoutElement column="1" row="3">
					<component type="lookup" name="stockAreasFrom" field="stockAreasFrom"
						reference="stockAreasFrom">
						<option type="searchable" value="name" />
						<option type="orderable" value=" name" />
						<option type="expression" value="#name" />
						<option type="fieldCode" value="name" />
					</component>
				</layoutElement>
				<layoutElement column="1" row="4">
					<component type="lookup" name="stockAreasTo" field="stockAreasTo"
						reference="stockAreasTo">
						<option type="searchable" value="name" />
						<option type="orderable" value="name" />
						<option type="expression" value="#name" />
						<option type="fieldCode" value="name" />
					</component>
				</layoutElement>
				<layoutElement column="1" row="5">
				<component type="lookup" name="staff" field="staff" reference="staff">
						<option type="searchable" value="name" />
						<option type="orderable" value=" name" />
						<option type="fullScreen" value="true" />
						<option type="expression" value="#name" />
						<option type="fieldCode" value="name" />
					</component>
					</layoutElement>
				<layoutElement column="1" row="6">
					<component type="borderLayout" name="products">
						<component type="awesomeDynamicList" name="products"
							source="#{form}.products" reference="products">
							<option type="hasBorder" value="false" />
							<option type="hasButtons" value="true" />
							<components>
								<component type="gridLayout" name="productLayout" columns="4"
									rows="1">
									<layoutElement column="1" width="2" row="1">
										<component type="lookup" name="product" field="product">
											<option type="searchable" value="name" />
											<option type="orderable" value=" name" />
											<option type="fullScreen" value="true" />
											<option type="expression" value="#name" />
											<option type="fieldCode" value="name" />
											<listener event="onSelectedEntityChange"
												class="com.qcadoo.mes.materialFlow.listeners.MultitransferListeners" method="fillUnitsInADL" />
										</component>
									</layoutElement>
									<layoutElement column="3" row="1">
										<component type="input" name="quantity" field="quantity">
											<option type="alignment" value="right" />
										</component>
									</layoutElement>
									<layoutElement column="4" row="1">
										<component type="input" name="unit" field="unit" hasLabel="false">
											<option type="textRepresentationOnDisabled" value="true" />
										</component>
									</layoutElement>
								</component>
							</components>
						</component>
						<option type="label" value="products" />
					</component>
				</layoutElement>
			</component>
			<option type="header" value="true" />
			<listener event="createMultitransfer" class="com.qcadoo.mes.materialFlow.listeners.MultitransferListeners" method="createMultitransfer" />
			<listener event="getFromTemplate" class="com.qcadoo.mes.materialFlow.listeners.MultitransferListeners" method="getFromTemplate" />
		</component>
	</component>
	<hooks>
		<beforeRender class="com.qcadoo.mes.materialFlow.hooks.MultitransferViewHooks" method="makeAllFieldsRequired" />
	</hooks>
</view>