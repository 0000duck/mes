<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="productionBalance" pageWidth="842" pageHeight="590" orientation="Landscape" columnWidth="820" leftMargin="10" rightMargin="10" topMargin="20" bottomMargin="20" isFloatColumnFooter="true">
	<property name="ireport.zoom" value="1.3310000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="93"/>
	<template><![CDATA["qcadooReport/report/qcadooStyles.jrtx"]]></template>
	<parameter name="Author" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["Default author"]]></defaultValueExpression>
	</parameter>
	<parameter name="EntityIds" class="java.util.List"/>
	<queryString language="hql">
		<![CDATA[select distinct
		 	company.companyFullName as companyFullName,
		 	company.street as street,
		 	company.house as house,
		 	company.flat as flat,
		 	company.zipCode as zipCode,
		 	company.city as city,
		 	company.country as country,
		 	company.email as email,
		 	company.phone as phone,
		 	use.order.name as orders_order_name,
			use.usedQuantity as used,
			production.product.name as product_name,
			production.plannedQuantity as planned,
			production.producedQuantity as produced
		from com.qcadoo.model.beans.basic.BasicCompany as company, com.qcadoo.model.beans.usedProducts.UsedProductsUsedProducts as use, 
		com.qcadoo.model.beans.producedProducts.ProducedProductsProducedProducts as production  where use.order.id in ($P{EntityIds}) and production.order.id=use.order.id]]>
	</queryString>
	<field name="companyFullName" class="java.lang.String"/>
	<field name="street" class="java.lang.String"/>
	<field name="house" class="java.lang.String"/>
	<field name="flat" class="java.lang.String"/>
	<field name="zipCode" class="java.lang.String"/>
	<field name="city" class="java.lang.String"/>
	<field name="country" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="phone" class="java.lang.String"/>
	<field name="orders_order_name" class="java.lang.String"/>
	<field name="product_name" class="java.lang.String"/>
	<field name="planned" class="java.math.BigDecimal"/>
	<field name="produced" class="java.math.BigDecimal"/>
	<field name="used" class="java.math.BigDecimal"/>
	<background>
		<band/>
	</background>
	<title>
		<band height="134">
			<textField>
				<reportElement style="qcadooPageNumber" x="419" y="18" width="380" height="16"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.page.label} + " " + $V{PAGE_NUMBER} + " " +$R{qcadooReport.commons.of.label}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="qcadooPageNumber" x="802" y="18" width="19" height="16"/>
				<textElement/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement style="qcadooPageNumberLine" x="0" y="32" width="807" height="1"/>
			</line>
			<textField>
				<reportElement style="qcadooHeaderTitle" x="0" y="45" width="807" height="61"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression class="java.lang.String"><![CDATA["<font color=\"#464646\">"+ $R{productionBalance.productionBalance.report.productionBalance}+ "</font> " + $F{orders_order_name}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement style="qcadooHeaderLine" x="0" y="106" width="807" height="1"/>
			</line>
			<textField>
				<reportElement style="qcadooHeaderDetails" x="3" y="112" width="487" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA["<font color=\"#464646\">" +$R{qcadooReport.commons.generatedBy.label} +"</font> "+ $P{Author}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooHeaderDetails" x="667" y="112" width="140" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="37">
			<rectangle>
				<reportElement x="0" y="0" width="807" height="26" backcolor="#E6E6E6"/>
			</rectangle>
			<textField>
				<reportElement style="qcadooLabelSmall" x="10" y="2" width="220" height="23"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{orders.order.product.label}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooLabelSmall" x="280" y="2" width="82" height="23"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{usedProducts.usedProducts.plannedQuantity.label}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooLabelSmall" x="460" y="1" width="85" height="35"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{usedProducts.usedProducts.usedQuantity.label}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooLabelSmall" x="640" y="1" width="82" height="35"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{producedProducts.producedProducts.producedQuantity.label}]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="31">
			<line>
				<reportElement x="0" y="29" width="807" height="1" forecolor="#464646"/>
			</line>
			<textField>
				<reportElement style="qcadooValueSmall" x="10" y="2" width="220" height="26"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooValueSmall" x="280" y="2" width="132" height="26"/>
				<textElement/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{planned}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement style="qcadooValueSmall" x="460" y="2" width="122" height="26"/>
				<textElement/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{used}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement style="qcadooValueSmall" x="640" y="2" width="122" height="26"/>
				<textElement/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{produced}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="46">
			<line>
				<reportElement style="qcadooPageNumberLine" x="0" y="-1" width="807" height="1"/>
			</line>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="3" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{companyFullName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="18" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{street} != null && $F{house} != null && $F{zipCode} != null && $F{city} != null ? ($F{street} + " " + $F{house} + ($F{flat} != null ? "/" + $F{flat} : "") + ", " + $F{zipCode} + " " + $F{city} + ($F{country} != null ? ", " + $F{country} : "")) : ($F{phone} != null ? ( $R{basic.company.phone.label} + ": " + $F{phone}) : "") + ($F{email} != null && $F{phone} != null ? ", " : "") + ($F{email} != null ? "E-mail: " + $F{email} : "") )]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="33" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{street} != null && $F{house} != null && $F{zipCode} != null && $F{city} != null ? ($F{phone} != null ? ( $R{basic.company.phone.label} + ": " + $F{phone}) : "") + ($F{email} != null && $F{phone} != null ? ", " : "") + ($F{email} != null ? "E-mail: " + $F{email} : "") : "")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="420" y="3" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.page.label} + " " + $V{PAGE_NUMBER} + " " +$R{qcadooReport.commons.of.label}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="qcadooPageNumber" x="803" y="3" width="19" height="16"/>
				<textElement/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="427" y="18" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.generatedBy.label} + " " + $P{Author}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="427" y="33" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="61">
			<line>
				<reportElement style="qcadooPageNumberLine" x="0" y="-1" width="807" height="1"/>
			</line>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="3" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{companyFullName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="18" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{street} != null && $F{house} != null && $F{zipCode} != null && $F{city} != null ? ($F{street} + " " + $F{house} + ($F{flat} != null ? "/" + $F{flat} : "") + ", " + $F{zipCode} + " " + $F{city} + ($F{country} != null ? ", " + $F{country} : "")) : ($F{phone} != null ? ( $R{basic.company.phone.label} + ": " + $F{phone}) : "") + ($F{email} != null && $F{phone} != null ? ", " : "") + ($F{email} != null ? "E-mail: " + $F{email} : "") )]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="3" y="33" width="380" height="13"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{street} != null && $F{house} != null && $F{zipCode} != null && $F{city} != null ? ($F{phone} != null ? ( $R{basic.company.phone.label} + ": " + $F{phone}) : "") + ($F{email} != null && $F{phone} != null ? ", " : "") + ($F{email} != null ? "E-mail: " + $F{email} : "") : "")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="420" y="3" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.page.label} + " " + $V{PAGE_NUMBER} + " " +$R{qcadooReport.commons.of.label}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="qcadooPageNumber" x="803" y="3" width="19" height="16"/>
				<textElement/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="427" y="18" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.generatedBy.label} + " " + $P{Author}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="427" y="33" width="380" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="qcadooPageNumber" x="510" y="48" width="297" height="13"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{qcadooReport.commons.endOfPrint.label}]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
