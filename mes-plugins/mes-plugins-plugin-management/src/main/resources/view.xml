<?xml version="1.0" encoding="UTF-8"?>
<!--

    ***************************************************************************
    Copyright (c) 2010 Qcadoo Limited
    Project: Qcadoo MES
    Version: 0.2.0

    This file is part of Qcadoo.

    Qcadoo is free software; you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation; either version 3 of the License,
    or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty
    of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
    ***************************************************************************

-->

<qcd:views plugin="plugins" xmlns:qcd="http://www.qcadoo.com/view">
	<view name="plugins" model="plugin" menuAccessible="true">
		<component type="window" name="window">
			<ribbon>
				<group name="plugins">
					<bigButton name="download" icon="downloadIcon24.png" action="#{window.plugins}.fireEvent(download);" />
					<bigButton name="update" icon="updateIcon24.png" action="#{window.plugins}.fireEvent(update);" />
				</group>
				<group name="actions">
					<smallButton name="enable" icon="enableIcon16.png" action="#{window.plugins}.fireEvent(enable);" />
					<smallButtons name="disable" icon="disableIcon16.png" action="#{window.plugins}.fireEvent(disable);">
						<smallButton name="deinstall" icon="deinstallIcon16.png" action="#{window.plugins}.fireEvent(deinstall);" />
						<smallButton name="remove" icon="deleteIcon16.png" action="#{window.plugins}.fireEvent(remove);" />
					</smallButtons>
				</group>
			</ribbon>
			<component type="grid" name="plugins">
				<option type="column" name="name" fields="name" link="true" />
				<option type="column" name="description" fields="description" />
				<option type="column" name="version" fields="version" />
				<option type="column" name="vendor" fields="vendor" />
				<option type="column" name="status" fields="status" />
				<option type="correspondingView" value="plugins/plugin" />
				<option type="correspondingComponent" value="window.plugin" />
				<option type="searchable" value="name,vendor,status" />
				<option type="orderable" value="name,description,version,vendor,status" />
				<option type="deletable" value="false" />
				<option type="creatable" value="false" />
				<option type="fullscreen" value="true" />
				<listener event="download" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginDownloadClick" />
				<listener event="update" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginUpdateClick" />
				<listener event="enable" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginEnableClick" />
				<listener event="disable" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginDisableClick" />
				<listener event="deinstall" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginDeinstallClick" />
				<listener event="remove" bean="com.qcadoo.mes.plugins.controller.PluginManagementController" method="onPluginRemoveClick" />
			</component>
			<option type="fixedHeight" value="true" />
			<option type="header" value="false" />
		</component>
	</view>
	<view name="plugin" model="plugin">
		<component type="window" name="window">
			<ribbon>
				<group name="navigation">
					<bigButton name="back" icon="backIcon24.png" action="#{window}.performBack" />
				</group>
				<group name="plugins">
					<bigButton name="update" icon="updateIcon24.png" action="#{window.plugin}.performCallFunction(goToUrl,../update.html);" />
				</group>
			</ribbon>
			<component type="form" name="plugin">
				<component type="textarea" name="name" field="name" defaultEnabled="false" />
				<component type="input" name="version" field="version" defaultEnabled="false" />
				<component type="input" name="vendor" field="vendor" defaultEnabled="false" />
				<component type="textarea" name="description" field="description" defaultEnabled="false" />
				<component type="select" name="status" field="status" defaultEnabled="false" />
				<component type="checkbox" name="base" field="base" defaultEnabled="false" />
				<option type="header" value="false" />
				<option type="expression" value="#name" />
			</component>
		</component>
	</view>
	
	<view name="pluginDownload">
		<component type="window" name="window">
			<ribbon>
				<group name="navigation">
					<bigButton name="back" icon="backIcon24.png" action="#{window}.performBack" />
				</group>
			</ribbon>
			<component type="staticPage" name="pluginDownload">
				<option type="page" value="plugins/pluginDownload.jsp" />
			</component>
			<option type="header" value="false" />
		</component>
	</view>
	
	<!-- ERROR PAGES -->
	
	<view name="pluginInfo">
		<component type="window" name="window">
			<ribbon>
				<group name="navigation">
					<bigButton name="back" icon="backIcon24.png" action="#{window}.performBack" />
				</group>
			</ribbon>
			<component type="staticPage" name="pluginInfo">
				<option type="page" value="plugins/pluginInfo.jsp" />
			</component>
			<option type="header" value="false" />
		</component>
	</view>
	
</qcd:views>